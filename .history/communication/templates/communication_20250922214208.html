{% extends "base.html" %}
{% load static wagtailcore_tags wagtailimages_tags bts_tags %}

{% block body_class %}template-communication{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/journalism.css' %}">
{% endblock extra_css %}

{% block content %}
<div class="container-fluid py-4">
  <div class="row">

    {# ================= LEFT: HERO + INTRO + TILES (+ optional About) ================= #}
    <div class="col-12 col-lg-8">

      <!-- Hero ribbon -->
      <div class="written-hero mb-3">
        <span class="cap" aria-hidden="true"></span>
        <div class="block-title" style="color:#73f0fa">{{ page.title }}</div>
        {% if page.intro %}
          <p>{{ page.intro|richtext }}</p>
        {% endif %}
      </div>

      <h3 class="section-title"><span class="band">click on the service below to know more</span></h3>

{# ===== Services anchor tiles (hard-coded 5) ===== #}
      <section class="svc-tiles mb-4">
        <h3 class="section-title mb-3"><span>I have worked on several different types of projects</span></h3>

        <div class="row row-cols-2 row-cols-md-3 row-cols-xl-5 g-3">
          <div class="col">
            <a class="card tile border-0 h-100 text-decoration-none" href="#strategic-communication" aria-label="Jump to Strategic Communication">
              <div class="card-body d-flex flex-column justify-content-end p-3 p-md-4">
                <h4 class="h6 fw-bold mb-0 tile-title">Strategic Communication</h4>
              </div>
            </a>
          </div>

          <div class="col">
            <a class="card tile border-0 h-100 text-decoration-none" href="#event-planning-moderation" aria-label="Jump to Event Planning & Moderation">
              <div class="card-body d-flex flex-column justify-content-end p-3 p-md-4">
                <h4 class="h6 fw-bold mb-0 tile-title">Event Planning & Moderation</h4>
              </div>
            </a>
          </div>

          <div class="col">
            <a class="card tile border-0 h-100 text-decoration-none" href="#community-management" aria-label="Jump to Community Management">
              <div class="card-body d-flex flex-column justify-content-end p-3 p-md-4">
                <h4 class="h6 fw-bold mb-0 tile-title">Community Management</h4>
              </div>
            </a>
          </div>

          <div class="col">
            <a class="card tile border-0 h-100 text-decoration-none" href="#project-management" aria-label="Jump to Project Management">
              <div class="card-body d-flex flex-column justify-content-end p-3 p-md-4">
                <h4 class="h6 fw-bold mb-0 tile-title">Project Management</h4>
              </div>
            </a>
          </div>

          <div class="col">
            <a class="card tile border-0 h-100 text-decoration-none" href="#copywriting" aria-label="Jump to Copywriting">
              <div class="card-body d-flex flex-column justify-content-end p-3 p-md-4">
                <h4 class="h6 fw-bold mb-0 tile-title">Copywriting</h4>
              </div>
            </a>
          </div>
        </div>
      </section>

      {# ========== ABOUT (optional, stays inside left column) ========== #}
      {% if page.about %}
        <section id="about" class="mb-4">
          {{ page.about|richtext }}
        </section>
      {% endif %}

    </div> {# /col-8 #}

    {# ================= RIGHT: BTS SIDEBAR ================= #}
    <div class="col-12 col-lg-4 mt-4 mt-lg-0">
      <aside class="bts-aside">
        <h3 class="section-title">Behind the Scenes</h3>

        {% bts_teasers_for 'communication' 3 as bts_teasers %}
        {% if bts_teasers %}
          <ul class="list-unstyled">
            {% for bts in bts_teasers %}
              <li class="mb-3">
                <article class="bts-card bts-card--sidebar">
                  {% if bts.teaser_image %}
                    <a href="{{ bts.url }}" class="thumb">
                      {% image bts.teaser_image fill-600x338 class="w-100" loading="lazy" decoding="async" alt=bts.card_title %}
                      <span class="bts-title">{{ bts.card_title }}</span>
                    </a>
                  {% else %}
                    <a href="{{ bts.url }}" class="thumb">
                      <span class="bts-title">{{ bts.card_title }}</span>
                    </a>
                  {% endif %}
                  <div class="bts-body">
                    {% if bts.card_summary %}<p class="bts-text">{{ bts.card_summary }}</p>{% endif %}
                    <a href="{{ bts.url }}" class="bts-cta">Discover how it happened!</a>
                  </div>
                </article>
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <p class="text-muted">More behind-the-scenes coming soon.</p>
        {% endif %}
      </aside>
    </div> {# /col-4 #}

  </div>
</div>
{% endblock %}
