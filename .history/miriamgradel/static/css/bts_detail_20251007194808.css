/* ===============================
   Behind The Scenes — Detail page (clean)
   =============================== */

/* Page-level tunables */
.container-fluid.bts-detail{
  --page-gutter: clamp(8px, 1.4vw, 16px); /* a bit tighter sides */
  --measure: 74ch;                        /* reading width */
  padding-left: var(--page-gutter);
  padding-right: var(--page-gutter);
  overflow-x: clip;                        /* prevent horizontal jiggle */
}

/* Keep the article tidy */
.bts-article{ margin:0; padding:0; }

/* ===============================
   Category ribbon (shorter + responsive fin)
   =============================== */
.bts-detail .written-hero{
  position: relative;
  width: 100%;
  max-width: var(--measure);
  margin: 0 auto 16px;
  padding: 14px 18px;
  color:#fff;
  overflow: visible;
}
.bts-detail .written-hero::before{
  content:""; position:absolute; inset:0; background:#000;
  clip-path: polygon(0 0, 100% 0, calc(100% - 28px) 100%, 0 100%);
  z-index:1;
}
.bts-detail .written-hero::after{
  content:""; position:absolute; top:0; bottom:0; right:0;
  width:20px; background:#73f0fa; transform:skewX(-15deg); z-index:0;
}
@media (max-width:575.98px){
  .bts-detail .written-hero{ padding:12px 14px; }
  .bts-detail .written-hero::after{ width:16px; }
}
.bts-detail .written-hero > *{ position:relative; z-index:2; }
.bts-detail .written-hero .block-title{
  margin:0; font-weight:800; line-height:1.1; font-size:1.06rem; letter-spacing:.2px; color:#73f0fa;
}

/* ===============================
   Intro + body: centered measure
   =============================== */
.bts-detail-intro,
.bts-article .article-body,
.bts-article figure,
.back-affix{
  max-width: var(--measure);
  margin-left: auto;
  margin-right: auto;
}

.bts-detail-intro .lead{
  font-size: 1.15rem;
  line-height: 1.6;
  color: #333;
  margin-top: .5rem;
  max-width: var(--measure) !important; /* beats inline 70ch */
}

/* Body type */
.article-body{ font-size: 1rem; line-height: 1.7; color:#333; }
.article-body p{ margin:0 0 1rem; }

/* Headings */
.article-body h2{ font-size:1.5rem; margin:2rem 0 1rem; font-weight:700; }
.article-body h3{ font-size:1.25rem; margin:1.5rem 0 .75rem; font-weight:700; }

/* Lists */
.article-body ul,
.article-body ol{ margin-bottom:1rem; padding-left:1.25rem; }

/* Quotes */
.article-body blockquote{
  border-left:3px solid var(--cyan, #73f0fa);
  padding-left:1rem; font-style:italic; margin:1.5rem 0; color:#555;
}
.bts-article .pullquote{
  border-left:4px solid var(--cyan, #73f0fa);
  margin:1.75rem 0; padding-left:1rem; font-style:italic; color:#0b1a21;
  font-size:1.15rem; line-height:1.5;
}
.bts-article .pullquote cite{
  display:block; margin-top:.5rem; font-size:.9rem; font-style:normal; color:#6b7280;
}

/* ===============================
   Media (images, video, audio)
   =============================== */
.bts-article figure{ margin:1.5rem auto; }
.bts-article figure img{
  display:block; width:100%; height:auto; object-fit:cover;
  box-shadow: 0 2px 0 0 var(--cyan, #73f0fa), 0 8px 14px -6px rgba(0,0,0,.2);
  border-radius:0;
}
.bts-article figcaption{
  text-align:center; font-size:.9rem; color:#6b7280;
  line-height:1.4; max-width:65ch; margin:.35rem auto 0;
}

/* Video embeds */
.bts-article .embed,
.bts-article .video-embed{
  position:relative; width:100%; aspect-ratio:16/9; background:#000;
  margin:1.25rem auto; max-width: var(--measure);
  box-shadow:0 2px 0 0 var(--cyan, #73f0fa);
}
.bts-article .embed iframe,
.bts-article .embed video,
.bts-article .video-embed iframe,
.bts-article .video-embed video{
  position:absolute; inset:0; width:100%; height:100%; border:0;
}

/* Audio */
.bts-article .audio-block{
  margin:1rem auto; padding:.75rem; max-width: var(--measure);
  background:#f7f7f7; border-left:3px solid rgba(0,0,0,.4);
  box-shadow:0 1px 0 var(--cyan, #73f0fa);
}
.bts-article .audio-block audio,
.bts-article .audio-block iframe{ width:100%; display:block; border:0; }

/* ===============================
   Back button: sticky INSIDE the article
   =============================== */
.back-affix{
  position: sticky;
  bottom: calc(16px + env(safe-area-inset-bottom, 0px));
  z-index: 10;
  display: flex;
  justify-content: flex-end;
}

/* Button look */
.btn-brand{
  background:#73f0fa; color:#000; font-weight:800; border:none;
  border-radius: 4px;
  box-shadow: inset 0 -2px 0 rgba(0,0,0,.2), 0 6px 14px rgba(115,240,250,.25);
  transition: background .2s ease, box-shadow .2s ease;
  padding:.5rem 1rem;
  position: static; /* critical: NOT fixed */
  text-decoration:none; display:inline-flex; align-items:center; gap:.5rem;
}
.btn-brand:hover,
.btn-brand:focus{ background:#1fb7c3; color:#fff; }
.btn-brand:active{ background:#148a93; box-shadow: inset 0 -1px 0 rgba(0,0,0,.25), 0 4px 10px rgba(0,0,0,.25); }

/* Mobile: compact ↑ */
@media (max-width:576px){
  .btn-brand{
    padding:.55rem; width:44px; height:44px; justify-content:center;
    font-size:0; border-radius:999px;
  }
  .btn-brand::after{ content:"↑"; font-size:18px; line-height:1; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .btn-brand{ transition:none; }
}
