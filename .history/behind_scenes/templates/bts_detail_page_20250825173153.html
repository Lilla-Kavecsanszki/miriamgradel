{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block extra_css %}
<style>
  /* Brand cyan button (matches your site styles) */
  .btn-brand {
    background: #73f0fa;
    color: #000;
    font-weight: 800;
    border: none;
    border-radius: 0;
  }
  .btn-brand:hover,
  .btn-brand:focus { filter: brightness(0.96); color: #000; }

  /* Top back bar: compact on mobile, subtle on desktop */
  .bts-backbar {
    background: #F7F7F7;
    border-left: 3px solid rgba(0,0,0,0.4);
    padding: .5rem .75rem;
    margin-bottom: 1rem;
  }
  @media (min-width: 992px) {
    .bts-backbar { margin-bottom: 1.25rem; }
  }
</style>
{% endblock %}

{% block content %}
<section class="container my-4 my-lg-5">

  {# Top back bar (great on mobile) #}
  <div class="bts-backbar d-flex align-items-center justify-content-between">
    <span class="text-uppercase small text-muted mb-0">{{ page.get_category_display }}</span>
    <a href="{{ page.get_parent.url }}" class="btn btn-sm btn-brand">← Back to BTS</a>
  </div>

  {# Title / hero #}
  <header class="mb-3 mb-lg-4">
    <h1 class="mb-2">{{ page.intro_title|default:page.title }}</h1>
    {% if page.intro_body %}
      <div class="lead" style="max-width:70ch">{{ page.intro_body|richtext }}</div>
    {% endif %}
  </header>

  {% if page.teaser_image %}
    <figure class="mb-3 mb-lg-4">
      {% image page.teaser_image fill-1200x675 class="img-fluid rounded w-100" %}
    </figure>
  {% endif %}

  {# Rich body #}
  {% if page.body %}
    <div class="content">
      {% for block in page.body %}
        <div class="mb-3 mb-lg-4">{% include_block block %}</div>
      {% endfor %}
    </div>
  {% endif %}

  {# Bottom back button (nice endpoint after reading) #}
  <div class="mt-4 pt-2 border-top">
    <a href="{{ page.get_parent.url }}" class="btn btn-brand">← Back to Behind the Scenes</a>
  </div>

</section>
{% endblock %}
