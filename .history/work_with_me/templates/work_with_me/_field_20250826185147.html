{% load form_extras %}

<div class="form-group">
  <label class="form-label mb-1" for="{{ field.id_for_label }}">
    {{ field.label }}{% if field.field.required %}<span class="text-danger">*</span>{% endif %}
  </label>

  {% with r=rows|default:'' hp=field.help_text|default_if_none:'' %}
    {% if field.field.widget.input_type == "textarea" %}
      {# textarea gets a nicer default placeholder #}
      {% if hp %}
        {% render_field field class="form-control wme-input" rows=r|default:8 placeholder=hp %}
      {% else %}
        {% render_field field class="form-control wme-input" rows=r|default:8 placeholder="Type your message…" %}
      {% endif %}
    {% else %}
      {# inputs: use help_text if present, else the label #}
      {% if hp %}
        {% render_field field class="form-control wme-input" placeholder=hp %}
      {% else %}
        {% render_field field class="form-control wme-input" placeholder=field.label %}
      {% endif %}
    {% endif %}
  {% endwith %}

  {# Do not render help_text below; we’re using it as the placeholder #}
  {% for error in field.errors %}<div class="text-danger small">{{ error }}</div>{% endfor %}
</div>
